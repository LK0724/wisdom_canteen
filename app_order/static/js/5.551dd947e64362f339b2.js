webpackJsonp([5],{M6C8:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("mvHQ"),i=e.n(r),o={name:"menuOptions",components:{},data:function(){return{current:0,scrollData:[],flag:0,list:[{name:"标题一"},{name:"标题二"},{name:"标题三"},{name:"标题四"},{name:"标题五"},{name:"标题六"},{name:"标题七"},{name:"标题八"},{name:"标题九"},{name:"标题十"}]}},computed:{},watch:{},props:{dishesList:Array,add:Function,minus:Function,go:Function},methods:{scrollToView:function(t,n){if(this.current!==n){if(this.current=n,!this.$refs.scrollContent)return;this.$refs.scrollContent.scrollTo({top:this.scrollData[n].top-90,behavior:"smooth"})}},getScrollData:function(){var t=this;this.scrollData=[];var n=this.$refs.scrollItem;n&&n.forEach(function(n){var e=JSON.parse(i()(n.getBoundingClientRect()));t.scrollData.push(e)})},handleScroll:function(t){var n=this;clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(function(){var e=t.target.scrollTop,r=n.scrollData.findIndex(function(t){return t.top>=e});n.current=r},100)}},created:function(){},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){var t=this;0===this.flag&&(this.$nextTick(function(n){t.getScrollData(),t.$refs.scrollContent.addEventListener("scroll",t.handleScroll,!1)},300),this.flag+=1)},beforeDestroy:function(){this.$refs.scrollContent.removeEventListener("scroll",this.handleScroll,!1)},destroyed:function(){},activated:function(){}},s={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"about"},[e("ul",{staticClass:"nav"},[t._l(t.dishesList,function(n,r){return[e("li",{key:n.dishesName,class:{active:t.current===r},on:{click:function(e){return t.scrollToView(n,r)}}},[e("van-badge",{attrs:{content:0===n.num?"":n.num}},[t._v("\n            "+t._s(n.dishesName)+"\n          ")])],1)]})],2),t._v(" "),e("ul",{ref:"scrollContent",staticClass:"content"},[t._l(t.dishesList,function(n){return[e("li",{key:n.dishesName,ref:"scrollItem",refInFor:!0},[e("van-cell",{attrs:{title:n.dishesName}}),t._v(" "),t._l(n.productList,function(n,r){return e("van-card",{key:r,scopedSlots:t._u([{key:"thumb",fn:function(){return[e("van-image",{attrs:{width:"100%",height:"100%","lazy-load":"",src:n.imageUrl},on:{click:function(e){return t.go({name:"menuDetail",params:{item:n}})}}})]},proxy:!0},{key:"title",fn:function(){return[e("div",{staticStyle:{"font-size":"14px"}},[t._v("\n            "+t._s(n.productName)+"\n          ")])]},proxy:!0},{key:"desc",fn:function(){return[e("div",{staticStyle:{color:"#BBBBBB","font-size":"10px"}},[t._v("\n            "+t._s(n.describe)+"\n          ")])]},proxy:!0},{key:"tags",fn:function(){return[e("div",{staticStyle:{color:"#BBBBBB","font-size":"10px"}},[t._v("\n            月售："+t._s(n.saleNum)+"\n          ")])]},proxy:!0},{key:"price",fn:function(){return[e("span",{staticStyle:{color:"red","font-size":"20px"}},[t._v("￥"+t._s(n.price/100))])]},proxy:!0},{key:"num",fn:function(){return[e("div",{staticStyle:{display:"flex","text-align":"center","align-items":"center"}},[0!==n.num?e("van-button",{staticStyle:{height:"22px"},attrs:{icon:"minus",color:"red",plain:"",type:"primary",size:"22",round:""},on:{click:function(e){return t.minus(n)}}}):t._e(),t._v(" "),0!==n.num?e("span",{staticStyle:{width:"32px"}},[t._v("\n                      "+t._s(n.num)+"\n                    ")]):t._e(),t._v(" "),e("van-button",{staticStyle:{height:"22px"},attrs:{icon:"plus",color:"red",disabled:10===n.num,type:"primary",size:"22",round:""},on:{click:function(e){return t.add(n)}}})],1)]},proxy:!0}],null,!0)})})],2)]})],2)])},staticRenderFns:[]};var c=e("VU/8")(o,s,!1,function(t){e("OLMv")},"data-v-d27199f4",null);n.default=c.exports},OLMv:function(t,n){},mvHQ:function(t,n,e){t.exports={default:e("qkKv"),__esModule:!0}},qkKv:function(t,n,e){var r=e("FeBl"),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}}});
//# sourceMappingURL=5.551dd947e64362f339b2.js.map