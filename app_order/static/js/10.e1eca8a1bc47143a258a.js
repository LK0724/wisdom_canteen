webpackJsonp([10],{OW56:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=t("2CGT"),n=t("6bRL"),i={name:"book",components:{},data:function(){return{flag:"1",show:!1,book:{peopleNum:"",bookManName:"",bookPhone:"",bookTime:Object(n.a)("YYYY-mm-dd HH:MM:SS",new Date)},minDate:new Date,maxDate:new Date(2021,2,1),currentDate:new Date,tableTypeList:[],bookTime:"0"}},computed:{},watch:{},methods:{onClickLeft:function(){this.$router.go(-1)},result:function(e){this.flag=e},onConfirm:function(e){this.book.bookTime=Object(n.a)("YYYY-mm-dd HH:MM:SS",e),this.show=!1},onChange:function(){this.book.bookTime=Object(n.a)("YYYY-mm-dd HH:MM:SS",this.currentDate),this.flag="0"},onCancel:function(){this.show=!1},onchange:function(){"0"===this.bookTime?this.book.bookTime=Object(n.a)("YYYY-mm-dd HH:MM:SS",new Date):"1"===this.bookTime?this.book.bookTime=Object(n.a)("YYYY-mm-dd HH:MM:SS",new Date((new Date).setMinutes((new Date).getMinutes()+30))):"2"===this.bookTime?this.book.bookTime=Object(n.a)("YYYY-mm-dd HH:MM:SS",new Date((new Date).setHours((new Date).getHours()+1))):"3"===this.bookTime&&(this.book.bookTime=Object(n.a)("YYYY-mm-dd HH:MM:SS",new Date((new Date).setHours((new Date).getHours()+2))))},submit:function(){var e=this;if(!this.$store.state.token.token)return this.$toast("你还未登录哦！"),this.$router.push("/login");if(!this.book.peopleNum)return this.$notify("请输入就餐人数！");if(!this.book.bookManName)return this.$notify("请输入就餐联系人！");if(!this.book.bookPhone)return this.$notify("请输入就餐联系方式！");if(!/^[1][3,4,5,7,8][0-9]{9}$/.test(this.book.bookPhone))return this.$notify("请输入正确的手机号！");var o={token:this.$store.state.token.token,userId:this.$store.state.token.userId,businessId:this.$route.params.businessId,tableTypeId:this.flag,bookTime:this.book.bookTime,peopleNum:this.book.peopleNum,bookManName:this.book.bookManName,bookPhone:this.book.bookPhone};Object(a.k)(o).then(function(o){o&&e.$toast("预订成功！")})}},created:function(){this.tableTypeList=this.$route.params.tableTypeList},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},s={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"app-container"},[t("van-nav-bar",{staticStyle:{"box-shadow":"0 3px 10px rgba(127, 127, 127, 0.06)"},attrs:{"left-arrow":"",title:"餐桌预定"},on:{"click-left":e.onClickLeft},scopedSlots:e._u([{key:"left",fn:function(){return[t("van-icon",{attrs:{name:"arrow-left",color:"#000000"}})]},proxy:!0},{key:"right",fn:function(){return[t("van-icon",{attrs:{name:"ellipsis",color:"#000000"}}),e._v(" \n      "),t("van-icon",{attrs:{name:"browsing-history-o",color:"#000000"}})]},proxy:!0}])}),e._v(" "),t("van-cell",{attrs:{title:"餐桌选择"}}),e._v(" "),t("van-cell",[t("van-radio-group",{staticStyle:{display:"flex"},attrs:{direction:"horizontal"},model:{value:e.flag,callback:function(o){e.flag=o},expression:"flag"}},e._l(e.tableTypeList,function(o,a){return t("van-radio",{key:a,staticStyle:{margin:"0",width:"50%"},attrs:{"checked-color":"#FE694C",name:o.tableTypeId}},[e._v(e._s(o.tableTypeName+o.tableTypeDescribe))])}),1)],1),e._v(" "),t("van-cell",{attrs:{title:"就餐时间"}}),e._v(" "),t("van-cell",[t("span",{staticStyle:{"font-size":"18px",color:"#FE694C"},on:{click:function(o){e.show=!0}}},[e._v(e._s(e.book.bookTime))])]),e._v(" "),t("van-cell",[t("van-radio-group",{staticStyle:{display:"flex","justify-content":"space-between"},attrs:{direction:"horizontal"},on:{change:function(o){return e.onchange()}},model:{value:e.bookTime,callback:function(o){e.bookTime=o},expression:"bookTime"}},[t("van-radio",{attrs:{name:"0","checked-color":"#FE694C"}},[e._v("现在")]),e._v(" "),t("van-radio",{attrs:{name:"1","checked-color":"#FE694C"}},[e._v("半小时后")]),e._v(" "),t("van-radio",{attrs:{name:"2","checked-color":"#FE694C"}},[e._v("1小时后")]),e._v(" "),t("van-radio",{attrs:{name:"3","checked-color":"#FE694C"}},[e._v("2小时后")])],1)],1),e._v(" "),t("van-cell-group",[t("van-field",{attrs:{type:"digit",required:""===e.book.peopleNum,clearable:"",label:"就餐人数",placeholder:"输入人数"},model:{value:e.book.peopleNum,callback:function(o){e.$set(e.book,"peopleNum",o)},expression:"book.peopleNum"}})],1),e._v(" "),t("van-cell-group",[t("van-field",{attrs:{label:"就餐联系人",required:""===e.book.bookManName,clearable:"",placeholder:"输入联系人"},model:{value:e.book.bookManName,callback:function(o){e.$set(e.book,"bookManName",o)},expression:"book.bookManName"}})],1),e._v(" "),t("van-cell-group",[t("van-field",{attrs:{type:"digit",clearable:"",maxlength:"11",required:""===e.book.bookPhone,label:"就餐联系方式",placeholder:"输入联系方式"},model:{value:e.book.bookPhone,callback:function(o){e.$set(e.book,"bookPhone",o)},expression:"book.bookPhone"}})],1),e._v(" "),t("van-cell-group",[t("van-field",{attrs:{label:"备注",clearable:"",type:"textarea","show-word-limit":"",rows:"2",autosize:"",maxlength:"50",placeholder:"输入备注"},model:{value:e.book.remake,callback:function(o){e.$set(e.book,"remake",o)},expression:"book.remake"}})],1),e._v(" "),t("div",{staticStyle:{"margin-top":"69px",display:"flex","justify-content":"center"}},[t("van-button",{staticClass:"app-button-left",staticStyle:{width:"calc(50% - 3px)"},attrs:{color:"rgba(255, 147, 126, 0.41)"},on:{click:e.onClickLeft}},[t("span",{staticStyle:{color:"#FE694C"}},[e._v("返回")])]),e._v(" "),t("van-button",{staticClass:"app-button-right",staticStyle:{width:"calc(50% - 2px)"},attrs:{color:"#FE694C"},on:{click:e.submit}},[t("span",{staticStyle:{color:"#FFFFFF"}},[e._v("确定")])])],1),e._v(" "),t("van-popup",{style:{height:"30%"},attrs:{position:"bottom"},model:{value:e.show,callback:function(o){e.show=o},expression:"show"}},[t("van-datetime-picker",{attrs:{type:"datetime",title:"就餐时间","min-date":e.minDate,"max-date":e.maxDate},on:{confirm:e.onConfirm,change:e.onChange,cancel:e.onCancel},model:{value:e.currentDate,callback:function(o){e.currentDate=o},expression:"currentDate"}})],1)],1)},staticRenderFns:[]};var l=t("VU/8")(i,s,!1,function(e){t("b+oj")},"data-v-74cbd0d6",null);o.default=l.exports},"b+oj":function(e,o){}});
//# sourceMappingURL=10.e1eca8a1bc47143a258a.js.map