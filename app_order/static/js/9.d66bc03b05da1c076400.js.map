{"version":3,"sources":["webpack:///src/view/order/shoppingCar.vue","webpack:///./src/view/order/shoppingCar.vue?088e","webpack:///./src/view/order/shoppingCar.vue"],"names":["shoppingCar","name","components","data","value","paramsData","peopleNum","orderTime","Object","dateFormat","Date","tableTypeId","productList","bookTime","businessId","cartList","show","minDate","maxDate","currentDate","computed","sumPrice","sum","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","this","$store","state","next","done","item","price","num","err","return","toFixed","watch","methods","goBack","$router","go","onConfirm","val","onCancel","onChange","onchange","setMinutes","getMinutes","setHours","getHours","add","dispatch","minus","length","$toast","getCartList","$route","params","tableTypeList","getters","clearCartList","pay","_this","$notify","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","push","productId","token","userId","valueOf","distcountAmount","actuallyAmount","remark","api","then","res","created","mounted","beforeCreate","beforeMount","beforeUpdate","updated","beforeDestroy","destroyed","activated","order_shoppingCar","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","box-shadow","attrs","left-arrow","title","on","click-left","scopedSlots","_u","key","fn","color","proxy","_v","_l","index","dishesName","click","_e","desc","describe","productName","width","height","lazy-load","src","imageUrl","$event","font-size","_s","display","text-align","align-items","icon","plain","type","size","round","disabled","position","left","model","callback","$$v","$set","expression","icon-size","checked-color","tableTypeName","tableTypeDescribe","required","label","placeholder","padding","flex","justify-content","direction","change","style","min-date","max-date","confirm","cancel","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"2KAyHAA,GAEAC,KAAA,cACAC,cACAC,KAJA,WAMA,OACAC,MAAA,EACAC,YACAC,UAAA,GACAC,UAAAC,OAAAC,EAAA,EAAAD,CAAA,0BAAAE,MACAC,YAAA,KAEAC,eACAC,SAAA,IACAC,WAAA,IACAC,YACAC,MAAA,EACAC,QAAA,IAAAP,KACAQ,QAAA,IAAAR,KAAA,UACAS,YAAA,IAAAT,OAIAU,UACAC,SADA,WAEA,IAAAC,EAAA,EADAC,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAEA,QAAAC,EAAAC,EAAAC,IAAAC,KAAAC,OAAAC,MAAAjB,YAAAQ,GAAAI,EAAAC,EAAAK,QAAAC,MAAAX,GAAA,OAAAY,EAAAR,EAAAvB,MACAkB,GAAAa,EAAAC,MAAAD,EAAAE,KAHA,MAAAC,GAAAd,GAAA,EAAAC,EAAAa,EAAA,aAAAf,GAAAK,EAAAW,QAAAX,EAAAW,SAAA,WAAAf,EAAA,MAAAC,GAKA,OAAAH,EAAA,KAAAkB,QAAA,KAIAC,SAEAC,SACAC,OADA,WAEAb,KAAAc,QAAAC,IAAA,IAEAC,UAJA,SAIAC,GACAjB,KAAAzB,WAAAE,UAAAC,OAAAC,EAAA,EAAAD,CAAA,sBAAAuC,GACAjB,KAAAd,MAAA,GAEAgC,SARA,WASAlB,KAAAd,MAAA,GAEAiC,SAXA,WAYAnB,KAAAzB,WAAAE,UAAAC,OAAAC,EAAA,EAAAD,CAAA,sBAAAsB,KAAAX,aACAW,KAAAjB,SAAA,KAEAqC,SAfA,WAgBA,MAAApB,KAAAjB,SACAiB,KAAAzB,WAAAE,UAAAC,OAAAC,EAAA,EAAAD,CAAA,0BAAAE,MACA,MAAAoB,KAAAjB,SACAiB,KAAAzB,WAAAE,UAAAC,OAAAC,EAAA,EAAAD,CAAA,0BAAAE,MAAA,IAAAA,MAAAyC,YAAA,IAAAzC,MAAA0C,aAAA,MACA,MAAAtB,KAAAjB,SACAiB,KAAAzB,WAAAE,UAAAC,OAAAC,EAAA,EAAAD,CAAA,0BAAAE,MAAA,IAAAA,MAAA2C,UAAA,IAAA3C,MAAA4C,WAAA,KACA,MAAAxB,KAAAjB,WACAiB,KAAAzB,WAAAE,UAAAC,OAAAC,EAAA,EAAAD,CAAA,0BAAAE,MAAA,IAAAA,MAAA2C,UAAA,IAAA3C,MAAA4C,WAAA,OAGAC,IA1BA,SA0BAnD,GACAA,EAAAiC,KAAA,EACAP,KAAAC,OAAAyB,SAAA,cAAApD,IAEAqD,MA9BA,SA8BArD,GACAA,EAAAiC,KAAA,EACAP,KAAAC,OAAAyB,SAAA,cAAApD,GACA,IAAA0B,KAAAC,OAAAC,MAAAjB,SAAA2C,SACA5B,KAAA6B,OAAA,YACA7B,KAAAc,QAAAC,IAAA,KAGAe,YAtCA,WAuCA9B,KAAAhB,WAAAgB,KAAA+B,OAAAC,OAAAhD,WACAgB,KAAAiC,cAAAjC,KAAA+B,OAAAC,OAAAC,cACAjC,KAAAf,SAAAe,KAAAC,OAAAiC,QAAAJ,aAEAK,cA3CA,WA4CAnC,KAAAC,OAAAyB,SAAA,iBACA1B,KAAA6B,OAAA,YACA7B,KAAAc,QAAAC,IAAA,IAEAqB,IAhDA,WAgDA,IAAAC,EAAArC,KACA,IAAAA,KAAAzB,WAAAM,YACA,OAAAmB,KAAAsC,QAAA,YACA,IAAAtC,KAAAzB,WAAAC,UACA,OAAAwB,KAAAsC,QAAA,YACA,IAAAtC,KAAAzB,WAAAC,UACA,OAAAwB,KAAAsC,QAAA,YANA,IAAAC,GAAA,EAAAC,GAAA,EAAAC,OAAA7C,EAAA,IAQA,QAAA8C,EAAAC,EAAA5C,IAAAC,KAAAC,OAAAC,MAAAjB,YAAAsD,GAAAG,EAAAC,EAAAxC,QAAAC,MAAAmC,GAAA,OAAAlC,EAAAqC,EAAApE,MACA0B,KAAAlB,YAAA8D,MACAC,UAAAxC,EAAAwC,UACAtC,IAAAF,EAAAE,OAXA,MAAAC,GAAAgC,GAAA,EAAAC,EAAAjC,EAAA,aAAA+B,GAAAI,EAAAlC,QAAAkC,EAAAlC,SAAA,WAAA+B,EAAA,MAAAC,GAcA,IAAAT,GACAc,MAAA9C,KAAAC,OAAAC,MAAA4C,YACAC,OAAA/C,KAAAC,OAAAC,MAAA4C,MAAAC,OACA/D,WAAAgB,KAAAhB,WACAH,YAAAmB,KAAAzB,WAAAM,YACAJ,UAAA,IAAAG,KAAAoB,KAAAzB,WAAAE,WAAAuE,UACAxE,UAAAwB,KAAAzB,WAAAC,UAAA,EACAyE,gBAAA,IACAC,eAAA,IAAAlD,KAAAT,SACA4D,OAAAnD,KAAAzB,WAAA4E,QAAA,GACArE,YAAAkB,KAAAlB,aAEMJ,OAAA0E,EAAA,EAAA1E,CAANsD,GAAAqB,KAAA,SAAAC,GACAA,IACAjB,EAAAR,OAAA,QACAQ,EAAApC,OAAAyB,SAAA,iBACAW,EAAAvB,QAAA8B,KAAA,mBAMAW,QAxHA,WAyHAvD,KAAA8B,eAGA0B,QA5HA,aA+HAC,aA/HA,aAiIAC,YAjIA,aAmIAC,aAnIA,aAqIAC,QArIA,aAuIAC,cAvIA,aAyIAC,UAzIA,aA2IAC,UA3IA,cCtHeC,GADEC,OAFjB,WAA0B,IAAAC,EAAAlE,KAAamE,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,eAAoBG,aAAaC,aAAA,wCAAoDC,OAAQC,aAAA,GAAAC,MAAA,OAA8BC,IAAKC,aAAAZ,EAAArD,QAAwBkE,YAAAb,EAAAc,KAAsBC,IAAA,OAAAC,GAAA,WAAyB,OAAAb,EAAA,YAAuBK,OAAOvG,KAAA,aAAAgH,MAAA,eAA0CC,OAAA,IAAcH,IAAA,QAAAC,GAAA,WAA0B,OAAAb,EAAA,YAAuBK,OAAOvG,KAAA,WAAAgH,MAAA,aAAqCjB,EAAAmB,GAAA,aAAAhB,EAAA,YAAqCK,OAAOvG,KAAA,qBAAAgH,MAAA,eAAkDC,OAAA,OAAelB,EAAAmB,GAAA,KAAAhB,EAAA,OAAwBE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,YAAuBL,EAAAoB,GAAApB,EAAAjE,OAAAiC,QAAA,qBAAA7B,EAAAkF,GAA8D,OAAAlB,EAAA,OAAiBY,IAAAM,IAAUlB,EAAA,YAAiBK,OAAOE,MAAAvE,EAAAmF,YAAwBT,YAAAb,EAAAc,KAAsBC,IAAA,aAAAC,GAAA,WAA+B,WAAAK,EAAAlB,EAAA,QAA+BQ,IAAIY,MAAAvB,EAAA/B,iBAA2BkC,EAAA,YAAiBK,OAAOvG,KAAA,YAAiB+F,EAAAmB,GAAA,aAAAnB,EAAAwB,OAAgCN,OAAA,IAAY,WAAalB,EAAAmB,GAAA,KAAAnB,EAAAoB,GAAAjF,EAAA,qBAAAA,EAAAkF,GAA6D,OAAAlB,EAAA,YAAsBY,IAAAM,EAAAb,OAAiBiB,KAAAtF,EAAAuF,SAAAhB,MAAAvE,EAAAwF,aAA8Cd,YAAAb,EAAAc,KAAsBC,IAAA,QAAAC,GAAA,WAA0B,OAAAb,EAAA,aAAwBK,OAAOoB,MAAA,OAAAC,OAAA,OAAAC,YAAA,GAAAC,IAAA5F,EAAA6F,UAAkErB,IAAKY,MAAA,SAAAU,GAAyB,OAAAjC,EAAApD,QAAA8B,MAAyBzE,KAAA,aAAA6D,QAA4B3B,gBAAkB+E,OAAA,IAAcH,IAAA,QAAAC,GAAA,WAA0B,OAAAb,EAAA,QAAmBG,aAAaW,MAAA,MAAAiB,YAAA,UAAkClC,EAAAmB,GAAA,OAAAnB,EAAAmB,GAAAnB,EAAAmC,IAAAhG,EAAAC,MAAA,KAAAI,QAAA,oBAA4E0E,OAAA,IAAcH,IAAA,MAAAC,GAAA,WAAwB,OAAAb,EAAA,OAAkBG,aAAa8B,QAAA,OAAAC,aAAA,SAAAC,cAAA,YAA+D,IAAAnG,EAAAE,IAAA8D,EAAA,cAAkCG,aAAauB,OAAA,QAAgBrB,OAAQ+B,KAAA,QAAAtB,MAAA,MAAAuB,MAAA,GAAAC,KAAA,UAAAC,KAAA,KAAAC,MAAA,IAAgFhC,IAAKY,MAAA,SAAAU,GAAyB,OAAAjC,EAAAvC,MAAAtB,OAAyB6D,EAAAwB,KAAAxB,EAAAmB,GAAA,SAAAhF,EAAAE,IAAA8D,EAAA,QAAiDG,aAAasB,MAAA,UAAgB5B,EAAAmB,GAAA,mBAAAnB,EAAAmC,GAAAhG,EAAAE,KAAA,oBAAA2D,EAAAwB,KAAAxB,EAAAmB,GAAA,KAAAhB,EAAA,cAAuGG,aAAauB,OAAA,QAAgBrB,OAAQ+B,KAAA,OAAAtB,MAAA,MAAA2B,SAAA,KAAAzG,EAAAE,IAAAoG,KAAA,UAAAC,KAAA,KAAAC,MAAA,IAA6FhC,IAAKY,MAAA,SAAAU,GAAyB,OAAAjC,EAAAzC,IAAApB,QAAuB,KAAO+E,OAAA,IAAY,cAAe,KAAM,GAAAlB,EAAAmB,GAAA,KAAAhB,EAAA,OAA2BE,YAAA,gBAA0BF,EAAA,YAAAA,EAAA,OAA2BG,aAAa8B,QAAA,UAAkBjC,EAAA,QAAAH,EAAAmB,GAAA,QAAAnB,EAAAmB,GAAA,KAAAhB,EAAA,mBAA8DG,aAAauC,SAAA,WAAAC,KAAA,QAAoCC,OAAQ3I,MAAA4F,EAAA3F,WAAA,YAAA2I,SAAA,SAAAC,GAA4DjD,EAAAkD,KAAAlD,EAAA3F,WAAA,cAAA4I,IAA6CE,WAAA,2BAAsCnD,EAAAoB,GAAApB,EAAA,uBAAA7D,GAA2C,OAAAgE,EAAA,aAAuBY,IAAA5E,EAAAxB,YAAA6F,OAA4BvG,KAAAkC,EAAAxB,YAAAyI,YAAA,OAAAC,gBAAA,aAAsErD,EAAAmB,GAAA,iBAAAnB,EAAAmC,GAAAhG,EAAAmH,eAAA,IAAAtD,EAAAmC,GAAAhG,EAAAoH,mBAAA,oBAA0G,SAAAvD,EAAAmB,GAAA,KAAAhB,EAAA,aAAuCK,OAAOgD,SAAA,KAAAxD,EAAA3F,WAAAC,UAAAmI,KAAA,QAAAgB,MAAA,OAAAC,YAAA,QAA4FX,OAAQ3I,MAAA4F,EAAA3F,WAAA,UAAA2I,SAAA,SAAAC,GAA0DjD,EAAAkD,KAAAlD,EAAA3F,WAAA,YAAA4I,IAA2CE,WAAA,0BAAoCnD,EAAAmB,GAAA,KAAAhB,EAAA,aAA8BK,OAAOiD,MAAA,KAAAC,YAAA,QAAkCX,OAAQ3I,MAAA4F,EAAA3F,WAAA,OAAA2I,SAAA,SAAAC,GAAuDjD,EAAAkD,KAAAlD,EAAA3F,WAAA,SAAA4I,IAAwCE,WAAA,uBAAiCnD,EAAAmB,GAAA,KAAAhB,EAAA,OAAwBG,aAAa8B,QAAA,OAAAuB,QAAA,YAAqCxD,EAAA,OAAYG,aAAasD,KAAA,IAAA1B,YAAA,UAA+BlC,EAAAmB,GAAA,gCAAAnB,EAAAmB,GAAA,KAAAhB,EAAA,OAA+DG,aAAasD,KAAA,IAAA1B,YAAA,OAAAjB,MAAA,WAAgDN,IAAKY,MAAA,SAAAU,GAAyBjC,EAAAhF,MAAA,MAAkBgF,EAAAmB,GAAA,eAAAnB,EAAAmC,GAAAnC,EAAA3F,WAAAE,WAAA,kBAAAyF,EAAAmB,GAAA,KAAAhB,EAAA,YAAAA,EAAA,mBAA4HG,aAAa8B,QAAA,OAAAyB,kBAAA,iBAAmDrD,OAAQsD,UAAA,cAAyBnD,IAAKoD,OAAA,SAAA9B,GAA0B,OAAAjC,EAAA9C,aAAuB6F,OAAQ3I,MAAA4F,EAAA,SAAAgD,SAAA,SAAAC,GAA8CjD,EAAAnF,SAAAoI,GAAiBE,WAAA,cAAwBhD,EAAA,aAAkBK,OAAOvG,KAAA,IAAAoJ,gBAAA,aAAsCrD,EAAAmB,GAAA,QAAAnB,EAAAmB,GAAA,KAAAhB,EAAA,aAA6CK,OAAOvG,KAAA,IAAAoJ,gBAAA,aAAsCrD,EAAAmB,GAAA,UAAAnB,EAAAmB,GAAA,KAAAhB,EAAA,aAA+CK,OAAOvG,KAAA,IAAAoJ,gBAAA,aAAsCrD,EAAAmB,GAAA,UAAAnB,EAAAmB,GAAA,KAAAhB,EAAA,aAA+CK,OAAOvG,KAAA,IAAAoJ,gBAAA,aAAsCrD,EAAAmB,GAAA,kBAAAnB,EAAAmB,GAAA,KAAAhB,EAAA,cAAAA,EAAA,mBAAAA,EAAA,OAAwFE,YAAA,eAAyBF,EAAA,OAAYE,YAAA,oBAA8BL,EAAAmB,GAAA,wBAAAhB,EAAA,QAA4CG,aAAa4B,YAAA,UAAoB/B,EAAA,KAAAH,EAAAmB,GAAAnB,EAAAmC,GAAAnC,EAAA3E,iBAAA2E,EAAAmB,GAAA,KAAAhB,EAAA,OAAmEG,aAAa8B,QAAA,UAAkBjC,EAAA,cAAmBE,YAAA,kBAAAC,aAA2CsB,MAAA,mBAA0BpB,OAAQS,MAAA,6BAAoCN,IAAKY,MAAAvB,EAAArD,UAAoBwD,EAAA,QAAaG,aAAaW,MAAA,aAAmBjB,EAAAmB,GAAA,YAAAnB,EAAAmB,GAAA,KAAAhB,EAAA,cAAkDE,YAAA,mBAAAC,aAA4CsB,MAAA,mBAA0BpB,OAAQS,MAAA,WAAkBN,IAAKY,MAAAvB,EAAA9B,OAAiBiC,EAAA,QAAaG,aAAaW,MAAA,aAAmBjB,EAAAmB,GAAA,4BAAAnB,EAAAmB,GAAA,KAAAhB,EAAA,aAAiE6D,OAAQnC,OAAA,OAAgBrB,OAASqC,SAAA,UAAoBE,OAAQ3I,MAAA4F,EAAA,KAAAgD,SAAA,SAAAC,GAA0CjD,EAAAhF,KAAAiI,GAAaE,WAAA,UAAoBhD,EAAA,uBAA4BK,OAAOiC,KAAA,WAAA/B,MAAA,OAAAuD,WAAAjE,EAAA/E,QAAAiJ,WAAAlE,EAAA9E,SAA+EyF,IAAKwD,QAAAnE,EAAAlD,UAAAiH,OAAA/D,EAAA/C,SAAAmH,OAAApE,EAAAhD,UAAoE+F,OAAQ3I,MAAA4F,EAAA,YAAAgD,SAAA,SAAAC,GAAiDjD,EAAA7E,YAAA8H,GAAoBE,WAAA,kBAA2B,QAEnmLkB,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACExK,EACA8F,GATF,EAVA,SAAA2E,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/9.d66bc03b05da1c076400.js","sourcesContent":["<!-- 购物车 -->\n<template>\n  <div class='app-container'>\n    <van-nav-bar\n      left-arrow\n      title=\"购物车\"\n      @click-left=\"goBack\"\n      style=\"box-shadow: 0 3px 10px rgba(127, 127, 127, 0.06);\"\n    >\n      <template #left>\n        <van-icon name=\"arrow-left\" color=\"#000000\"/>\n      </template>\n      <template #right>\n        <van-icon name=\"ellipsis\" color=\"#000000\"/>&nbsp;\n        <van-icon name=\"browsing-history-o\"  color=\"#000000\"/>\n      </template>\n    </van-nav-bar>\n    <div class=\"app-body\">\n      <div class=\"app-card\">\n      <div v-for=\"(item,index) in $store.getters.getCartList\" :key=\"index\">\n        <van-cell :title=\"item.dishesName\">\n          <template #right-icon>\n            <span v-if=\"index===0\"  @click=\"clearCartList\"><van-icon name=\"delete\" />清空购物车</span>\n          </template>\n        </van-cell>\n        <van-card\n          :desc=\"item.describe\"\n          :title=\"item.productName\"\n          v-for=\"(item,index) in item.productList\"\n          :key=\"index\"\n        >\n          <template #thumb>\n            <van-image\n              width=\"100%\"\n              height=\"100%\"\n              lazy-load\n              :src=\"item.imageUrl\"\n              @click=\"$router.push({name: 'menuDetail',params: {item:item}})\"\n            />\n          </template>\n          <template #price>\n            <span style=\"color: red;font-size: 20px\">￥</span>{{ (item.price / 100).toFixed(2) }}\n          </template>\n          <template #num>\n            <div style=\"display: flex;text-align: center;align-items: center\">\n              <van-button icon=\"minus\" color=\"red\" v-if=\"item.num!==0\"  @click=\"minus(item)\" plain type=\"primary\" style=\"height: 22px\" size=\"22\" round/>\n              <span style=\"width: 32px\" v-if=\"item.num!==0\">\n                {{ item.num }}\n              </span>\n              <van-button icon=\"plus\" color=\"red\" :disabled=\"item.num===10\" @click=\"add(item)\" type=\"primary\" style=\"height: 22px\" size=\"22\" round/>\n            </div>\n          </template>\n        </van-card>\n      </div>\n      </div>\n      <div class=\"app-content\">\n        <van-cell>\n          <div style=\"display: flex\">\n          <span>堂食</span>\n          <van-radio-group v-model=\"paramsData.tableTypeId\"  style=\"position: relative;left: 70px\">\n            <van-radio :name=\"item.tableTypeId\" icon-size=\"12px\" v-for=\"item in tableTypeList\" :key=\"item.tableTypeId\" checked-color=\"#FE694C\">\n              {{ item.tableTypeName }}&nbsp;{{ item.tableTypeDescribe }}\n            </van-radio>\n          </van-radio-group>\n          </div>\n        </van-cell>\n        <van-field v-model=\"paramsData.peopleNum\" :required=\"paramsData.peopleNum===''\" type=\"digit\" label=\"就餐人数\" placeholder=\"输入人数\"/>\n        <van-field v-model=\"paramsData.remark\"  label=\"备注\" placeholder=\"输入备注\"/>\n        <div style=\"display: flex;padding: 0 16px\">\n          <div style=\"flex: 1;font-size: 14px\">\n            就餐时间\n          </div>\n          <div style=\"flex: 2;font-size: 20px;color: #FE694C\" @click=\"show = true\">\n            {{ paramsData.orderTime }}\n          </div>\n        </div>\n        <van-cell>\n          <van-radio-group v-model=\"bookTime\" @change=\"onchange()\" direction=\"horizontal\" style=\"display: flex;justify-content: space-between\">\n            <van-radio name=\"0\" checked-color=\"#FE694C\">现在</van-radio>\n            <van-radio name=\"1\" checked-color=\"#FE694C\">半小时后</van-radio>\n            <van-radio name=\"2\" checked-color=\"#FE694C\">1小时后</van-radio>\n            <van-radio name=\"3\" checked-color=\"#FE694C\">2小时后</van-radio>\n          </van-radio-group>\n        </van-cell>\n        <van-tabbar>\n          <van-tabbar-item>\n            <div class=\"app-tabBar\" >\n              <div class=\"app-shoppingCar\">\n                合计:￥<span style=\"font-size: 24px\"><b>{{ sumPrice }}</b></span>\n              </div>\n              <div style=\"display: flex\">\n                <van-button color=\"rgba(255, 147, 126, 0.41)\" class=\"app-button-left\" @click=\"goBack\" style=\"width: calc(50% - 3px)\"><span style=\"color: #FE694C\">继续点菜</span></van-button>\n                <van-button color=\"#FE694C\" class=\"app-button-right\" @click=\"pay\" style=\"width: calc(50% - 2px)\"><span style=\"color: #FFFFFF\">支付</span></van-button>\n              </div>\n            </div>\n          </van-tabbar-item>\n        </van-tabbar>\n      </div>\n    </div>\n    <van-popup v-model=\"show\" position=\"bottom\" :style=\"{ height: '30%' }\">\n      <van-datetime-picker\n        v-model=\"currentDate\"\n        type=\"datetime\"\n        title=\"就餐时间\"\n        :min-date=\"minDate\"\n        :max-date=\"maxDate\"\n        @confirm=\"onConfirm\"\n        @change=\"onChange\"\n        @cancel=\"onCancel\"\n      />\n    </van-popup>\n  </div>\n</template>\n\n<script>\n// 这里可以导入其他文件（比如：组件，工具js，第三方插件js，json文件，图片文件等等）\n// 例如：import 《组件名称》 from '《组件路径》';\n\nimport {dateFormat} from '../../utils/dateFormat'\nimport {apiOrder} from '../../request/api'\n\nexport default {\n// import引入的组件需要注入到对象中才能使用\n  name: 'shoppingCar',\n  components: {},\n  data () {\n    // 这里存放数据\n    return {\n      value: 0,\n      paramsData: {\n        peopleNum: '',\n        orderTime: dateFormat('YYYY-mm-dd HH:MM:SS', new Date()),\n        tableTypeId: '1'\n      },\n      productList: [],\n      bookTime: '0',\n      businessId: '1',\n      cartList: [],\n      show: false,\n      minDate: new Date(),\n      maxDate: new Date(2021, 2, 1),\n      currentDate: new Date()\n    }\n  },\n  // 监听属性 类似于data概念\n  computed: {\n    sumPrice () {\n      let sum = 0\n      for (let item of this.$store.state.cartList) {\n        sum += item.price * item.num\n      }\n      return (sum / 100).toFixed(2)\n    }\n  },\n  // 监控data中的数据变化\n  watch: {},\n  // 方法集合\n  methods: {\n    goBack () {\n      this.$router.go(-1)\n    },\n    onConfirm (val) {\n      this.paramsData.orderTime = dateFormat('YYYY-mm-dd HH:MM:SS', val)\n      this.show = false\n    },\n    onCancel () {\n      this.show = false\n    },\n    onChange () {\n      this.paramsData.orderTime = dateFormat('YYYY-mm-dd HH:MM:SS', this.currentDate)\n      this.bookTime = '0'\n    },\n    onchange () {\n      if (this.bookTime === '0') {\n        this.paramsData.orderTime = dateFormat('YYYY-mm-dd HH:MM:SS', new Date())\n      } else if (this.bookTime === '1') {\n        this.paramsData.orderTime = dateFormat('YYYY-mm-dd HH:MM:SS', new Date((new Date().setMinutes(new Date().getMinutes() + 30))))\n      } else if (this.bookTime === '2') {\n        this.paramsData.orderTime = dateFormat('YYYY-mm-dd HH:MM:SS', new Date((new Date().setHours(new Date().getHours() + 1))))\n      } else if (this.bookTime === '3') {\n        this.paramsData.orderTime = dateFormat('YYYY-mm-dd HH:MM:SS', new Date((new Date().setHours(new Date().getHours() + 2))))\n      }\n    },\n    add (value) {\n      value.num += 1\n      this.$store.dispatch('setCartList', value)\n    },\n    minus (value) {\n      value.num -= 1\n      this.$store.dispatch('setCartList', value)\n      if (this.$store.state.cartList.length === 0) {\n        this.$toast('请重新选择商品！')\n        this.$router.go(-1)\n      }\n    },\n    getCartList () {\n      this.businessId = this.$route.params.businessId\n      this.tableTypeList = this.$route.params.tableTypeList\n      this.cartList = this.$store.getters.getCartList\n    },\n    clearCartList () {\n      this.$store.dispatch('clearCartList')\n      this.$toast('请重新选择商品！')\n      this.$router.go(-1)\n    },\n    pay () {\n      if (!this.paramsData.tableTypeId) {\n        return this.$notify('请选择餐桌类型！')\n      } else if (!this.paramsData.peopleNum) {\n        return this.$notify('请输入就餐人数！')\n      } else if (!this.paramsData.peopleNum) {\n        return this.$notify('请输入就餐人数！')\n      }\n      for (let item of this.$store.state.cartList) {\n        this.productList.push({\n          productId: item.productId,\n          num: item.num\n        })\n      }\n      let params = {\n        token: this.$store.state.token.token,\n        userId: this.$store.state.token.userId,\n        businessId: this.businessId,\n        tableTypeId: this.paramsData.tableTypeId,\n        orderTime: new Date(this.paramsData.orderTime).valueOf(),\n        peopleNum: this.paramsData.peopleNum - 0,\n        distcountAmount: '0',\n        actuallyAmount: this.sumPrice * 100,\n        remark: this.paramsData.remark || '',\n        productList: this.productList\n      }\n      apiOrder(params).then(res => {\n        if (res) {\n          this.$toast('支付成功')\n          this.$store.dispatch('clearCartList')\n          this.$router.push('/orderForm')\n        }\n      })\n    }\n  },\n  // 生命周期 - 创建完成（可以访问当前this实例）\n  created () {\n    this.getCartList()\n  },\n  // 生命周期 - 挂载完成（可以访问DOM元素）\n  mounted () {\n\n  },\n  beforeCreate () {\n  }, // 生命周期 - 创建之前\n  beforeMount () {\n  }, // 生命周期 - 挂载之前\n  beforeUpdate () {\n  }, // 生命周期 - 更新之前\n  updated () {\n  }, // 生命周期 - 更新之后\n  beforeDestroy () {\n  }, // 生命周期 - 销毁之前\n  destroyed () {\n  }, // 生命周期 - 销毁完成\n  activated () {\n  } // 如果页面有keep-alive缓存功能，这个函数会触发\n}\n</script>\n// @import url(); 引入公共css类\n<style lang=\"scss\" scoped>\n.app-container{\n  .app-body{\n    height: calc(100vh - 96px);\n    .app-card{\n      height: 354px;\n      overflow: scroll;\n    }\n    .app-content{\n      height: 410px;\n      background: white;\n      .content-radio{\n        display: flex;\n        align-items: flex-start;\n      }\n      .app-tabBar{\n        min-width: 319px;\n        background: #FFFFFF;\n        display: flex;\n        justify-content: space-between;\n        position: relative;\n        top: -20px;\n        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);\n        opacity: 1;\n        border-radius: 25px;\n        z-index: 2;\n        .app-shoppingCar{\n          color: #333333;\n          @extend %flex-center;\n          position: relative;\n          left: 20px;\n          margin: 0 26px 0 12px;\n        }\n        .app-button-left{\n          min-width: 91px;\n          height: 49px;\n          opacity: 1;\n          border-radius: 25px 0 0 25px;\n        }\n        .app-button-right{\n          min-width: 91px;\n          height: 49px;\n          opacity: 1;\n          border-radius: 0 25px 25px 0;\n        }\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/order/shoppingCar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('van-nav-bar',{staticStyle:{\"box-shadow\":\"0 3px 10px rgba(127, 127, 127, 0.06)\"},attrs:{\"left-arrow\":\"\",\"title\":\"购物车\"},on:{\"click-left\":_vm.goBack},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"arrow-left\",\"color\":\"#000000\"}})]},proxy:true},{key:\"right\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"ellipsis\",\"color\":\"#000000\"}}),_vm._v(\" \\n      \"),_c('van-icon',{attrs:{\"name\":\"browsing-history-o\",\"color\":\"#000000\"}})]},proxy:true}])}),_vm._v(\" \"),_c('div',{staticClass:\"app-body\"},[_c('div',{staticClass:\"app-card\"},_vm._l((_vm.$store.getters.getCartList),function(item,index){return _c('div',{key:index},[_c('van-cell',{attrs:{\"title\":item.dishesName},scopedSlots:_vm._u([{key:\"right-icon\",fn:function(){return [(index===0)?_c('span',{on:{\"click\":_vm.clearCartList}},[_c('van-icon',{attrs:{\"name\":\"delete\"}}),_vm._v(\"清空购物车\")],1):_vm._e()]},proxy:true}],null,true)}),_vm._v(\" \"),_vm._l((item.productList),function(item,index){return _c('van-card',{key:index,attrs:{\"desc\":item.describe,\"title\":item.productName},scopedSlots:_vm._u([{key:\"thumb\",fn:function(){return [_c('van-image',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"lazy-load\":\"\",\"src\":item.imageUrl},on:{\"click\":function($event){return _vm.$router.push({name: 'menuDetail',params: {item:item}})}}})]},proxy:true},{key:\"price\",fn:function(){return [_c('span',{staticStyle:{\"color\":\"red\",\"font-size\":\"20px\"}},[_vm._v(\"￥\")]),_vm._v(_vm._s((item.price / 100).toFixed(2))+\"\\n        \")]},proxy:true},{key:\"num\",fn:function(){return [_c('div',{staticStyle:{\"display\":\"flex\",\"text-align\":\"center\",\"align-items\":\"center\"}},[(item.num!==0)?_c('van-button',{staticStyle:{\"height\":\"22px\"},attrs:{\"icon\":\"minus\",\"color\":\"red\",\"plain\":\"\",\"type\":\"primary\",\"size\":\"22\",\"round\":\"\"},on:{\"click\":function($event){return _vm.minus(item)}}}):_vm._e(),_vm._v(\" \"),(item.num!==0)?_c('span',{staticStyle:{\"width\":\"32px\"}},[_vm._v(\"\\n              \"+_vm._s(item.num)+\"\\n            \")]):_vm._e(),_vm._v(\" \"),_c('van-button',{staticStyle:{\"height\":\"22px\"},attrs:{\"icon\":\"plus\",\"color\":\"red\",\"disabled\":item.num===10,\"type\":\"primary\",\"size\":\"22\",\"round\":\"\"},on:{\"click\":function($event){return _vm.add(item)}}})],1)]},proxy:true}],null,true)})})],2)}),0),_vm._v(\" \"),_c('div',{staticClass:\"app-content\"},[_c('van-cell',[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('span',[_vm._v(\"堂食\")]),_vm._v(\" \"),_c('van-radio-group',{staticStyle:{\"position\":\"relative\",\"left\":\"70px\"},model:{value:(_vm.paramsData.tableTypeId),callback:function ($$v) {_vm.$set(_vm.paramsData, \"tableTypeId\", $$v)},expression:\"paramsData.tableTypeId\"}},_vm._l((_vm.tableTypeList),function(item){return _c('van-radio',{key:item.tableTypeId,attrs:{\"name\":item.tableTypeId,\"icon-size\":\"12px\",\"checked-color\":\"#FE694C\"}},[_vm._v(\"\\n            \"+_vm._s(item.tableTypeName)+\" \"+_vm._s(item.tableTypeDescribe)+\"\\n          \")])}),1)],1)]),_vm._v(\" \"),_c('van-field',{attrs:{\"required\":_vm.paramsData.peopleNum==='',\"type\":\"digit\",\"label\":\"就餐人数\",\"placeholder\":\"输入人数\"},model:{value:(_vm.paramsData.peopleNum),callback:function ($$v) {_vm.$set(_vm.paramsData, \"peopleNum\", $$v)},expression:\"paramsData.peopleNum\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"label\":\"备注\",\"placeholder\":\"输入备注\"},model:{value:(_vm.paramsData.remark),callback:function ($$v) {_vm.$set(_vm.paramsData, \"remark\", $$v)},expression:\"paramsData.remark\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"padding\":\"0 16px\"}},[_c('div',{staticStyle:{\"flex\":\"1\",\"font-size\":\"14px\"}},[_vm._v(\"\\n          就餐时间\\n        \")]),_vm._v(\" \"),_c('div',{staticStyle:{\"flex\":\"2\",\"font-size\":\"20px\",\"color\":\"#FE694C\"},on:{\"click\":function($event){_vm.show = true}}},[_vm._v(\"\\n          \"+_vm._s(_vm.paramsData.orderTime)+\"\\n        \")])]),_vm._v(\" \"),_c('van-cell',[_c('van-radio-group',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"},attrs:{\"direction\":\"horizontal\"},on:{\"change\":function($event){return _vm.onchange()}},model:{value:(_vm.bookTime),callback:function ($$v) {_vm.bookTime=$$v},expression:\"bookTime\"}},[_c('van-radio',{attrs:{\"name\":\"0\",\"checked-color\":\"#FE694C\"}},[_vm._v(\"现在\")]),_vm._v(\" \"),_c('van-radio',{attrs:{\"name\":\"1\",\"checked-color\":\"#FE694C\"}},[_vm._v(\"半小时后\")]),_vm._v(\" \"),_c('van-radio',{attrs:{\"name\":\"2\",\"checked-color\":\"#FE694C\"}},[_vm._v(\"1小时后\")]),_vm._v(\" \"),_c('van-radio',{attrs:{\"name\":\"3\",\"checked-color\":\"#FE694C\"}},[_vm._v(\"2小时后\")])],1)],1),_vm._v(\" \"),_c('van-tabbar',[_c('van-tabbar-item',[_c('div',{staticClass:\"app-tabBar\"},[_c('div',{staticClass:\"app-shoppingCar\"},[_vm._v(\"\\n              合计:￥\"),_c('span',{staticStyle:{\"font-size\":\"24px\"}},[_c('b',[_vm._v(_vm._s(_vm.sumPrice))])])]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('van-button',{staticClass:\"app-button-left\",staticStyle:{\"width\":\"calc(50% - 3px)\"},attrs:{\"color\":\"rgba(255, 147, 126, 0.41)\"},on:{\"click\":_vm.goBack}},[_c('span',{staticStyle:{\"color\":\"#FE694C\"}},[_vm._v(\"继续点菜\")])]),_vm._v(\" \"),_c('van-button',{staticClass:\"app-button-right\",staticStyle:{\"width\":\"calc(50% - 2px)\"},attrs:{\"color\":\"#FE694C\"},on:{\"click\":_vm.pay}},[_c('span',{staticStyle:{\"color\":\"#FFFFFF\"}},[_vm._v(\"支付\")])])],1)])])],1)],1)]),_vm._v(\" \"),_c('van-popup',{style:({ height: '30%' }),attrs:{\"position\":\"bottom\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"datetime\",\"title\":\"就餐时间\",\"min-date\":_vm.minDate,\"max-date\":_vm.maxDate},on:{\"confirm\":_vm.onConfirm,\"change\":_vm.onChange,\"cancel\":_vm.onCancel},model:{value:(_vm.currentDate),callback:function ($$v) {_vm.currentDate=$$v},expression:\"currentDate\"}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-819135b4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/order/shoppingCar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-819135b4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":\\\"E:\\\\\\\\Git仓库\\\\\\\\app_order\\\\\\\\src\\\\\\\\assets\\\\\\\\style\\\\\\\\index.scss\\\"}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./shoppingCar.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shoppingCar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shoppingCar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-819135b4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./shoppingCar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-819135b4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/order/shoppingCar.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}